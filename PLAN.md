# План реализации программы ChatList

## Этап 1: Настройка проекта и базы данных

### 1.1 Инициализация проекта
- [ ] Создать структуру директорий проекта
- [ ] Создать файл `requirements.txt` с зависимостями (PyQt5, requests/httpx, python-dotenv)
- [ ] Создать файл `.env.example` с примером переменных окружения для API-ключей
- [ ] Создать файл `.gitignore` для исключения `.env` и других служебных файлов

### 1.2 Реализация модуля базы данных (db.py)
- [ ] Создать класс для работы с SQLite
- [ ] Реализовать метод инициализации БД (создание таблиц)
- [ ] Реализовать методы для работы с таблицей `prompts`:
  - [ ] Добавление промта
  - [ ] Получение списка промтов
  - [ ] Поиск промтов
  - [ ] Сортировка промтов
- [ ] Реализовать методы для работы с таблицей `models`:
  - [ ] Добавление модели
  - [ ] Получение списка моделей
  - [ ] Получение активных моделей (is_active=1)
  - [ ] Обновление статуса модели
  - [ ] Поиск и сортировка моделей
- [ ] Реализовать методы для работы с таблицей `results`:
  - [ ] Сохранение результата
  - [ ] Получение списка результатов
  - [ ] Поиск результатов
  - [ ] Сортировка результатов
- [ ] Реализовать методы для работы с таблицей `settings`:
  - [ ] Сохранение настройки
  - [ ] Получение настройки

## Этап 2: Работа с API нейросетей

### 2.1 Реализация модуля network.py
- [ ] Создать базовый класс для работы с API
- [ ] Реализовать загрузку API-ключей из `.env` файла
- [ ] Реализовать поддержку разных типов моделей:
  - [ ] OpenAI API
  - [ ] DeepSeek API
  - [ ] Groq API
  - [ ] (Опционально) Другие API
- [ ] Реализовать метод отправки промта в модель
- [ ] Реализовать обработку ошибок и таймаутов
- [ ] Реализовать логирование запросов (опционально)

### 2.2 Реализация модуля models.py
- [ ] Создать класс для представления модели нейросети
- [ ] Реализовать методы для получения списка моделей из БД
- [ ] Реализовать фильтрацию активных моделей
- [ ] Реализовать валидацию конфигурации моделей

## Этап 3: Реализация пользовательского интерфейса

### 3.1 Основной интерфейс (main.py)
- [ ] Создать главное окно приложения
- [ ] Реализовать область ввода промта:
  - [ ] Текстовое поле для ввода нового промта
  - [ ] Выпадающий список для выбора сохранённого промта
  - [ ] Кнопка "Отправить"
- [ ] Реализовать область выбора моделей:
  - [ ] Список моделей с чекбоксами для выбора активных
  - [ ] Кнопка "Настроить модели" (для управления моделями)
- [ ] Реализовать таблицу результатов:
  - [ ] Колонки: название модели, текст ответа, чекбокс selected
  - [ ] Возможность прокрутки для длинных ответов
  - [ ] Кнопка "Сохранить выбранные"
- [ ] Реализовать меню и панель инструментов:
  - [ ] Меню "Файл" (экспорт, выход)
  - [ ] Меню "Настройки"
  - [ ] Меню "Справка"

### 3.2 Дополнительные окна
- [ ] Окно управления моделями:
  - [ ] Добавление новой модели
  - [ ] Редактирование существующей модели
  - [ ] Удаление модели
  - [ ] Активация/деактивация модели
- [ ] Окно просмотра сохранённых результатов:
  - [ ] Таблица с сохранёнными результатами
  - [ ] Поиск и фильтрация
  - [ ] Сортировка
- [ ] Окно управления промтами:
  - [ ] Просмотр сохранённых промтов
  - [ ] Редактирование промтов
  - [ ] Добавление тегов
  - [ ] Удаление промтов

## Этап 4: Интеграция компонентов

### 4.1 Связывание компонентов
- [ ] Интегрировать db.py с main.py
- [ ] Интегрировать network.py с main.py
- [ ] Интегрировать models.py с main.py
- [ ] Реализовать обработку событий:
  - [ ] Отправка промта в выбранные модели
  - [ ] Отображение результатов во временной таблице
  - [ ] Сохранение выбранных результатов
  - [ ] Очистка временной таблицы при новом запросе

### 4.2 Обработка ошибок
- [ ] Обработка ошибок подключения к БД
- [ ] Обработка ошибок API запросов
- [ ] Отображение понятных сообщений об ошибках пользователю
- [ ] Логирование ошибок

## Этап 5: Дополнительные функции

### 5.1 Поиск и сортировка
- [ ] Реализовать поиск в таблице промтов
- [ ] Реализовать поиск в таблице моделей
- [ ] Реализовать поиск в таблице результатов
- [ ] Реализовать сортировку по всем колонкам

### 5.2 Экспорт данных
- [ ] Реализовать экспорт результатов в Markdown
- [ ] Реализовать экспорт результатов в JSON
- [ ] Добавить диалог выбора файла для экспорта

### 5.3 Логирование (опционально)
- [ ] Реализовать логирование всех запросов к API
- [ ] Сохранение логов в файл
- [ ] Просмотр логов в интерфейсе

## Этап 6: Тестирование и доработка

### 6.1 Тестирование функциональности
- [ ] Тестирование работы с БД
- [ ] Тестирование отправки запросов к API
- [ ] Тестирование интерфейса
- [ ] Тестирование обработки ошибок

### 6.2 Оптимизация и доработка
- [ ] Оптимизация производительности
- [ ] Улучшение пользовательского интерфейса
- [ ] Добавление подсказок и справки
- [ ] Финальная проверка всех функций

## Этап 7: Документация и финализация

### 7.1 Документация
- [ ] Создать README.md с инструкциями по установке и использованию
- [ ] Добавить комментарии в код
- [ ] Создать документацию по API модулей

### 7.2 Финальная проверка
- [ ] Проверка соответствия спецификации PROJECT.md
- [ ] Проверка всех требований
- [ ] Подготовка к релизу

